{"ast":null,"code":"import _objectWithoutProperties from \"/home/pro/Solutions/drawboard-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { getDateTime } from \"./utils\";\nimport { getCollaborationLinkData } from \"./data\";\nvar DEFAULT_PROJECT_NAME = \"excalidraw-\".concat(getDateTime());\nexport var DEFAULT_FONT = \"20px Virgil\";\nexport function getDefaultAppState() {\n  return {\n    draggingElement: null,\n    resizingElement: null,\n    multiElement: null,\n    editingElement: null,\n    elementType: \"selection\",\n    elementLocked: false,\n    exportBackground: true,\n    currentItemStrokeColor: \"#000000\",\n    currentItemBackgroundColor: \"transparent\",\n    currentItemFillStyle: \"hachure\",\n    currentItemStrokeWidth: 1,\n    currentItemRoughness: 1,\n    currentItemOpacity: 100,\n    currentItemFont: DEFAULT_FONT,\n    viewBackgroundColor: \"#ffffff\",\n    scrollX: 0,\n    scrollY: 0,\n    cursorX: 0,\n    cursorY: 0,\n    scrolledOutside: false,\n    name: DEFAULT_PROJECT_NAME,\n    isCollaborating: !!getCollaborationLinkData(window.location.href),\n    isResizing: false,\n    selectionElement: null,\n    zoom: 1,\n    openMenu: null,\n    lastPointerDownWith: \"mouse\",\n    selectedElementIds: {},\n    remotePointers: {},\n    collaboratorCount: 0\n  };\n}\nexport function clearAppStateForLocalStorage(appState) {\n  var draggingElement = appState.draggingElement,\n      resizingElement = appState.resizingElement,\n      multiElement = appState.multiElement,\n      editingElement = appState.editingElement,\n      selectionElement = appState.selectionElement,\n      isResizing = appState.isResizing,\n      exportedState = _objectWithoutProperties(appState, [\"draggingElement\", \"resizingElement\", \"multiElement\", \"editingElement\", \"selectionElement\", \"isResizing\"]);\n\n  return exportedState;\n}\nexport function clearAppStatePropertiesForHistory(appState) {\n  return {\n    exportBackground: appState.exportBackground,\n    currentItemStrokeColor: appState.currentItemStrokeColor,\n    currentItemBackgroundColor: appState.currentItemBackgroundColor,\n    currentItemFillStyle: appState.currentItemFillStyle,\n    currentItemStrokeWidth: appState.currentItemStrokeWidth,\n    currentItemRoughness: appState.currentItemRoughness,\n    currentItemOpacity: appState.currentItemOpacity,\n    currentItemFont: appState.currentItemFont,\n    viewBackgroundColor: appState.viewBackgroundColor,\n    name: appState.name\n  };\n}\nexport function cleanAppStateForExport(appState) {\n  return {\n    viewBackgroundColor: appState.viewBackgroundColor\n  };\n}","map":{"version":3,"sources":["/home/pro/Solutions/drawboard-light/src/appState.ts"],"names":["getDateTime","getCollaborationLinkData","DEFAULT_PROJECT_NAME","DEFAULT_FONT","getDefaultAppState","draggingElement","resizingElement","multiElement","editingElement","elementType","elementLocked","exportBackground","currentItemStrokeColor","currentItemBackgroundColor","currentItemFillStyle","currentItemStrokeWidth","currentItemRoughness","currentItemOpacity","currentItemFont","viewBackgroundColor","scrollX","scrollY","cursorX","cursorY","scrolledOutside","name","isCollaborating","window","location","href","isResizing","selectionElement","zoom","openMenu","lastPointerDownWith","selectedElementIds","remotePointers","collaboratorCount","clearAppStateForLocalStorage","appState","exportedState","clearAppStatePropertiesForHistory","cleanAppStateForExport"],"mappings":"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","sourcesContent":["import { AppState, FlooredNumber } from \"./types\";\nimport { getDateTime } from \"./utils\";\nimport { getCollaborationLinkData } from \"./data\";\n\nconst DEFAULT_PROJECT_NAME = `excalidraw-${getDateTime()}`;\nexport const DEFAULT_FONT = \"20px Virgil\";\n\nexport function getDefaultAppState(): AppState {\n  return {\n    draggingElement: null,\n    resizingElement: null,\n    multiElement: null,\n    editingElement: null,\n    elementType: \"selection\",\n    elementLocked: false,\n    exportBackground: true,\n    currentItemStrokeColor: \"#000000\",\n    currentItemBackgroundColor: \"transparent\",\n    currentItemFillStyle: \"hachure\",\n    currentItemStrokeWidth: 1,\n    currentItemRoughness: 1,\n    currentItemOpacity: 100,\n    currentItemFont: DEFAULT_FONT,\n    viewBackgroundColor: \"#ffffff\",\n    scrollX: 0 as FlooredNumber,\n    scrollY: 0 as FlooredNumber,\n    cursorX: 0,\n    cursorY: 0,\n    scrolledOutside: false,\n    name: DEFAULT_PROJECT_NAME,\n    isCollaborating: !!getCollaborationLinkData(window.location.href),\n    isResizing: false,\n    selectionElement: null,\n    zoom: 1,\n    openMenu: null,\n    lastPointerDownWith: \"mouse\",\n    selectedElementIds: {},\n    remotePointers: {},\n    collaboratorCount: 0,\n  };\n}\n\nexport function clearAppStateForLocalStorage(appState: AppState) {\n  const {\n    draggingElement,\n    resizingElement,\n    multiElement,\n    editingElement,\n    selectionElement,\n    isResizing,\n    ...exportedState\n  } = appState;\n  return exportedState;\n}\n\nexport function clearAppStatePropertiesForHistory(\n  appState: AppState,\n): Partial<AppState> {\n  return {\n    exportBackground: appState.exportBackground,\n    currentItemStrokeColor: appState.currentItemStrokeColor,\n    currentItemBackgroundColor: appState.currentItemBackgroundColor,\n    currentItemFillStyle: appState.currentItemFillStyle,\n    currentItemStrokeWidth: appState.currentItemStrokeWidth,\n    currentItemRoughness: appState.currentItemRoughness,\n    currentItemOpacity: appState.currentItemOpacity,\n    currentItemFont: appState.currentItemFont,\n    viewBackgroundColor: appState.viewBackgroundColor,\n    name: appState.name,\n  };\n}\n\nexport function cleanAppStateForExport(appState: AppState) {\n  return {\n    viewBackgroundColor: appState.viewBackgroundColor,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}