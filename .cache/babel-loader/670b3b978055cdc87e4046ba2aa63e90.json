{"ast":null,"code":"import _slicedToArray from \"/home/pro/Solutions/drawboard-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/pro/Solutions/drawboard-light/src/components/Modal.tsx\";\nimport \"./Modal.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { KEYS } from \"../keys\";\nexport function Modal(props) {\n  var modalRoot = useBodyRoot();\n\n  var handleKeydown = function handleKeydown(event) {\n    if (event.key === KEYS.ESCAPE) {\n      event.nativeEvent.stopImmediatePropagation();\n      props.onCloseRequest();\n    }\n  };\n\n  return createPortal(React.createElement(\"div\", {\n    className: \"Modal\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    onKeyDown: handleKeydown,\n    \"aria-labelledby\": props.labelledBy,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Modal__background\",\n    onClick: props.onCloseRequest,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Modal__content\",\n    style: {\n      maxWidth: props.maxWidth\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, props.children)), modalRoot);\n}\n\nfunction useBodyRoot() {\n  function createDiv() {\n    var div = document.createElement(\"div\");\n    document.body.appendChild(div);\n    return div;\n  }\n\n  var _useState = useState(createDiv),\n      _useState2 = _slicedToArray(_useState, 1),\n      div = _useState2[0];\n\n  useEffect(function () {\n    return function () {\n      document.body.removeChild(div);\n    };\n  }, [div]);\n  return div;\n}","map":{"version":3,"sources":["/home/pro/Solutions/drawboard-light/src/components/Modal.tsx"],"names":["React","useEffect","useState","createPortal","KEYS","Modal","props","modalRoot","useBodyRoot","handleKeydown","event","key","ESCAPE","nativeEvent","stopImmediatePropagation","onCloseRequest","labelledBy","maxWidth","children","createDiv","div","document","createElement","body","appendChild","removeChild"],"mappings":";;AAAA,OAAO,aAAP;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,YAAT,QAA6B,WAA7B;AACA,SAASC,IAAT,QAAqB,SAArB;AAEA,OAAO,SAASC,KAAT,CAAeC,KAAf,EAKJ;AACD,MAAMC,SAAS,GAAGC,WAAW,EAA7B;;AAEA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAgC;AACpD,QAAIA,KAAK,CAACC,GAAN,KAAcP,IAAI,CAACQ,MAAvB,EAA+B;AAC7BF,MAAAA,KAAK,CAACG,WAAN,CAAkBC,wBAAlB;AACAR,MAAAA,KAAK,CAACS,cAAN;AACD;AACF,GALD;;AAMA,SAAOZ,YAAY,CACjB;AACE,IAAA,SAAS,EAAC,OADZ;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,kBAAW,MAHb;AAIE,IAAA,SAAS,EAAEM,aAJb;AAKE,uBAAiBH,KAAK,CAACU,UALzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAmC,IAAA,OAAO,EAAEV,KAAK,CAACS,cAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAQE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,KAAK,EAAE;AAAEE,MAAAA,QAAQ,EAAEX,KAAK,CAACW;AAAlB,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGX,KAAK,CAACY,QADT,CARF,CADiB,EAajBX,SAbiB,CAAnB;AAeD;;AAED,SAASC,WAAT,GAAuB;AACrB,WAASW,SAAT,GAAqB;AACnB,QAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;AACAD,IAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BJ,GAA1B;AACA,WAAOA,GAAP;AACD;;AALoB,kBAMPlB,QAAQ,CAACiB,SAAD,CAND;AAAA;AAAA,MAMdC,GANc;;AAOrBnB,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACXoB,MAAAA,QAAQ,CAACE,IAAT,CAAcE,WAAd,CAA0BL,GAA1B;AACD,KAFD;AAGD,GAJQ,EAIN,CAACA,GAAD,CAJM,CAAT;AAKA,SAAOA,GAAP;AACD","sourcesContent":["import \"./Modal.css\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { KEYS } from \"../keys\";\n\nexport function Modal(props: {\n  children: React.ReactNode;\n  maxWidth?: number;\n  onCloseRequest(): void;\n  labelledBy: string;\n}) {\n  const modalRoot = useBodyRoot();\n\n  const handleKeydown = (event: React.KeyboardEvent) => {\n    if (event.key === KEYS.ESCAPE) {\n      event.nativeEvent.stopImmediatePropagation();\n      props.onCloseRequest();\n    }\n  };\n  return createPortal(\n    <div\n      className=\"Modal\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n      onKeyDown={handleKeydown}\n      aria-labelledby={props.labelledBy}\n    >\n      <div className=\"Modal__background\" onClick={props.onCloseRequest}></div>\n      <div className=\"Modal__content\" style={{ maxWidth: props.maxWidth }}>\n        {props.children}\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nfunction useBodyRoot() {\n  function createDiv() {\n    const div = document.createElement(\"div\");\n    document.body.appendChild(div);\n    return div;\n  }\n  const [div] = useState(createDiv);\n  useEffect(() => {\n    return () => {\n      document.body.removeChild(div);\n    };\n  }, [div]);\n  return div;\n}\n"]},"metadata":{},"sourceType":"module"}