{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport { consoleSandbox } from '@sentry/utils';\n/** JSDoc */\n\nvar Debug =\n/** @class */\nfunction () {\n  /**\n   * @inheritDoc\n   */\n  function Debug(options) {\n    /**\n     * @inheritDoc\n     */\n    this.name = Debug.id;\n    this._options = tslib_1.__assign({\n      debugger: false,\n      stringify: false\n    }, options);\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  Debug.prototype.setupOnce = function (addGlobalEventProcessor, getCurrentHub) {\n    addGlobalEventProcessor(function (event, hint) {\n      var self = getCurrentHub().getIntegration(Debug);\n\n      if (self) {\n        // tslint:disable:no-console\n        // tslint:disable:no-debugger\n        if (self._options.debugger) {\n          debugger;\n        }\n\n        consoleSandbox(function () {\n          if (self._options.stringify) {\n            console.log(JSON.stringify(event, null, 2));\n\n            if (hint) {\n              console.log(JSON.stringify(hint, null, 2));\n            }\n          } else {\n            console.log(event);\n\n            if (hint) {\n              console.log(hint);\n            }\n          }\n        });\n      }\n\n      return event;\n    });\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  Debug.id = 'Debug';\n  return Debug;\n}();\n\nexport { Debug };","map":{"version":3,"sources":["../src/debug.ts"],"names":[],"mappings":";AACA,SAAS,cAAT,QAA+B,eAA/B;AAQA;;AACA,IAAA,KAAA;AAAA;AAAA,YAAA;AAcE;;;AAGA,WAAA,KAAA,CAAmB,OAAnB,EAAyC;AAhBzC;;;AAGO,SAAA,IAAA,GAAe,KAAK,CAAC,EAArB;AAcL,SAAK,QAAL,GAAa,OAAA,CAAA,QAAA,CAAA;AACX,MAAA,QAAQ,EAAE,KADC;AAEX,MAAA,SAAS,EAAE;AAFA,KAAA,EAGR,OAHQ,CAAb;AAKD;AAED;;;;;AAGO,EAAA,KAAA,CAAA,SAAA,CAAA,SAAA,GAAP,UAAiB,uBAAjB,EAA8E,aAA9E,EAAsG;AACpG,IAAA,uBAAuB,CAAC,UAAC,KAAD,EAAe,IAAf,EAA+B;AACrD,UAAM,IAAI,GAAG,aAAa,GAAG,cAAhB,CAA+B,KAA/B,CAAb;;AACA,UAAI,IAAJ,EAAU;AACR;AACA;AACA,YAAI,IAAI,CAAC,QAAL,CAAc,QAAlB,EAA4B;AAC1B;AACD;;AAED,QAAA,cAAc,CAAC,YAAA;AACb,cAAI,IAAI,CAAC,QAAL,CAAc,SAAlB,EAA6B;AAC3B,YAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAf,EAAsB,IAAtB,EAA4B,CAA5B,CAAZ;;AACA,gBAAI,IAAJ,EAAU;AACR,cAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAZ;AACD;AACF,WALD,MAKO;AACL,YAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;;AACA,gBAAI,IAAJ,EAAU;AACR,cAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACD;AACF;AACF,SAZa,CAAd;AAaD;;AACD,aAAO,KAAP;AACD,KAxBsB,CAAvB;AAyBD,GA1BM;AAtBP;;;;;AAGc,EAAA,KAAA,CAAA,EAAA,GAAa,OAAb;AA8ChB,SAAA,KAAA;AAAC,CAvDD,EAAA;;SAAa,K","sourcesContent":["import { Event, EventHint, EventProcessor, Hub, Integration } from '@sentry/types';\nimport { consoleSandbox } from '@sentry/utils';\n\n/** JSDoc */\ninterface DebugOptions {\n  stringify?: boolean;\n  debugger?: boolean;\n}\n\n/** JSDoc */\nexport class Debug implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = Debug.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Debug';\n\n  /** JSDoc */\n  private readonly _options: DebugOptions;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options?: DebugOptions) {\n    this._options = {\n      debugger: false,\n      stringify: false,\n      ...options,\n    };\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    addGlobalEventProcessor((event: Event, hint?: EventHint) => {\n      const self = getCurrentHub().getIntegration(Debug);\n      if (self) {\n        // tslint:disable:no-console\n        // tslint:disable:no-debugger\n        if (self._options.debugger) {\n          debugger;\n        }\n\n        consoleSandbox(() => {\n          if (self._options.stringify) {\n            console.log(JSON.stringify(event, null, 2));\n            if (hint) {\n              console.log(JSON.stringify(hint, null, 2));\n            }\n          } else {\n            console.log(event);\n            if (hint) {\n              console.log(hint);\n            }\n          }\n        });\n      }\n      return event;\n    });\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}