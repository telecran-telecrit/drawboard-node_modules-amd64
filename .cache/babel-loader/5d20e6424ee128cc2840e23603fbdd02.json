{"ast":null,"code":"import _classCallCheck from \"/home/pro/Solutions/drawboard-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/pro/Solutions/drawboard-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/pro/Solutions/drawboard-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/pro/Solutions/drawboard-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/pro/Solutions/drawboard-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/pro/Solutions/drawboard-light/src/components/ProjectName.tsx\";\nimport \"./ProjectName.css\";\nimport React, { Component } from \"react\";\nimport { selectNode, removeSelection } from \"../utils\";\nexport var ProjectName =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProjectName, _Component);\n\n  function ProjectName() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProjectName);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProjectName)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleFocus = function (event) {\n      selectNode(event.currentTarget);\n    };\n\n    _this.handleBlur = function (event) {\n      var value = event.currentTarget.innerText.trim();\n\n      if (value !== _this.props.value) {\n        _this.props.onChange(value);\n      }\n\n      removeSelection();\n    };\n\n    _this.handleKeyDown = function (event) {\n      if (event.key === \"Enter\") {\n        event.preventDefault();\n\n        if (event.nativeEvent.isComposing || event.keyCode === 229) {\n          return;\n        }\n\n        event.currentTarget.blur();\n      }\n    };\n\n    _this.makeEditable = function (editable) {\n      if (!editable) {\n        return;\n      }\n\n      try {\n        editable.contentEditable = \"plaintext-only\";\n      } catch (_unused) {\n        editable.contentEditable = \"true\";\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ProjectName, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"span\", {\n        suppressContentEditableWarning: true,\n        ref: this.makeEditable,\n        \"data-type\": \"wysiwyg\",\n        className: \"ProjectName\",\n        role: \"textbox\",\n        \"aria-label\": this.props.label,\n        onBlur: this.handleBlur,\n        onKeyDown: this.handleKeyDown,\n        onFocus: this.handleFocus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.props.value);\n    }\n  }]);\n\n  return ProjectName;\n}(Component);","map":{"version":3,"sources":["/home/pro/Solutions/drawboard-light/src/components/ProjectName.tsx"],"names":["React","Component","selectNode","removeSelection","ProjectName","handleFocus","event","currentTarget","handleBlur","value","innerText","trim","props","onChange","handleKeyDown","key","preventDefault","nativeEvent","isComposing","keyCode","blur","makeEditable","editable","contentEditable","label"],"mappings":";;;;;;AAAA,OAAO,mBAAP;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,EAAqBC,eAArB,QAA4C,UAA5C;AAQA,WAAaC,WAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,UACUC,WADV,GACwB,UAACC,KAAD,EAA0C;AAC9DJ,MAAAA,UAAU,CAACI,KAAK,CAACC,aAAP,CAAV;AACD,KAHH;;AAAA,UAKUC,UALV,GAKuB,UAACF,KAAD,EAA0C;AAC7D,UAAMG,KAAK,GAAGH,KAAK,CAACC,aAAN,CAAoBG,SAApB,CAA8BC,IAA9B,EAAd;;AACA,UAAIF,KAAK,KAAK,MAAKG,KAAL,CAAWH,KAAzB,EAAgC;AAC9B,cAAKG,KAAL,CAAWC,QAAX,CAAoBJ,KAApB;AACD;;AACDN,MAAAA,eAAe;AAChB,KAXH;;AAAA,UAaUW,aAbV,GAa0B,UAACR,KAAD,EAA6C;AACnE,UAAIA,KAAK,CAACS,GAAN,KAAc,OAAlB,EAA2B;AACzBT,QAAAA,KAAK,CAACU,cAAN;;AACA,YAAIV,KAAK,CAACW,WAAN,CAAkBC,WAAlB,IAAiCZ,KAAK,CAACa,OAAN,KAAkB,GAAvD,EAA4D;AAC1D;AACD;;AACDb,QAAAA,KAAK,CAACC,aAAN,CAAoBa,IAApB;AACD;AACF,KArBH;;AAAA,UAsBUC,YAtBV,GAsByB,UAACC,QAAD,EAAsC;AAC3D,UAAI,CAACA,QAAL,EAAe;AACb;AACD;;AACD,UAAI;AACFA,QAAAA,QAAQ,CAACC,eAAT,GAA2B,gBAA3B;AACD,OAFD,CAEE,gBAAM;AACND,QAAAA,QAAQ,CAACC,eAAT,GAA2B,MAA3B;AACD;AACF,KA/BH;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAiCkB;AACd,aACE;AACE,QAAA,8BAA8B,MADhC;AAEE,QAAA,GAAG,EAAE,KAAKF,YAFZ;AAGE,qBAAU,SAHZ;AAIE,QAAA,SAAS,EAAC,aAJZ;AAKE,QAAA,IAAI,EAAC,SALP;AAME,sBAAY,KAAKT,KAAL,CAAWY,KANzB;AAOE,QAAA,MAAM,EAAE,KAAKhB,UAPf;AAQE,QAAA,SAAS,EAAE,KAAKM,aARlB;AASE,QAAA,OAAO,EAAE,KAAKT,WAThB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAWG,KAAKO,KAAL,CAAWH,KAXd,CADF;AAeD;AAjDH;;AAAA;AAAA,EAAiCR,SAAjC","sourcesContent":["import \"./ProjectName.css\";\n\nimport React, { Component } from \"react\";\nimport { selectNode, removeSelection } from \"../utils\";\n\ntype Props = {\n  value: string;\n  onChange: (value: string) => void;\n  label: string;\n};\n\nexport class ProjectName extends Component<Props> {\n  private handleFocus = (event: React.FocusEvent<HTMLElement>) => {\n    selectNode(event.currentTarget);\n  };\n\n  private handleBlur = (event: React.FocusEvent<HTMLElement>) => {\n    const value = event.currentTarget.innerText.trim();\n    if (value !== this.props.value) {\n      this.props.onChange(value);\n    }\n    removeSelection();\n  };\n\n  private handleKeyDown = (event: React.KeyboardEvent<HTMLElement>) => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      if (event.nativeEvent.isComposing || event.keyCode === 229) {\n        return;\n      }\n      event.currentTarget.blur();\n    }\n  };\n  private makeEditable = (editable: HTMLSpanElement | null) => {\n    if (!editable) {\n      return;\n    }\n    try {\n      editable.contentEditable = \"plaintext-only\";\n    } catch {\n      editable.contentEditable = \"true\";\n    }\n  };\n\n  public render() {\n    return (\n      <span\n        suppressContentEditableWarning\n        ref={this.makeEditable}\n        data-type=\"wysiwyg\"\n        className=\"ProjectName\"\n        role=\"textbox\"\n        aria-label={this.props.label}\n        onBlur={this.handleBlur}\n        onKeyDown={this.handleKeyDown}\n        onFocus={this.handleFocus}\n      >\n        {this.props.value}\n      </span>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}